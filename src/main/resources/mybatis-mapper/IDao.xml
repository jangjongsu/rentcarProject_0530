<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jjcompany.rentcarProject.dao.IDao">
	<insert id="joinDao">
		insert into rMember(rid, rpw, rname, rmobile, remail) values (#{param1}, #{param2}, #{param3}, #{param4}, #{param5})
	</insert>
	<select id="checkIdDao" resultType="int">
		select count(*) from rMember where rid = #{param1}
	</select>
	<select id="loginOkDao" resultType="int">
		select count(*) from rMember where rid = #{param1} and rpw = #{param2}
	</select>
	<select id="showInfoDao" resultType="com.jjcompany.rentcarProject.dto.MemberDto">
		select * from rMember where rid = #{param1}
	</select>
	<update id="modifyOkDao">
		update rMember set rpw = #{param2}, rname = #{param3}, rmobile = #{param4}, remail = #{param5} where rid= #{param1}
	</update>



	<!-- 차량관리 -->
	<select id="countCarListDao" resultType="int">
		select count(*)	from cartbl
	</select>
	
	<select id="AllCarListDao" resultType="com.jjcompany.rentcarProject.dto.CarListDto">
		select c.cindex, c.cbrend, c.cclass, c.cname, c.ccolor, c.coil, c.ctype, p.price
			from cartbl c inner join pricetbl p
				on c.pindex = p.pindex
	</select>
	
	<select id="countCarTypeListDao" resultType="int">
		select count(*)	from cartbl where cclass = #{param1}
	</select>
	
	<select id="CarListDao" resultType="com.jjcompany.rentcarProject.dto.CarListDto">
		select c.cindex, c.cbrend, c.cclass, c.cname, c.ccolor, c.coil, c.ctype, p.price
			from cartbl c inner join pricetbl p
				on c.pindex = p.pindex
					where c.cclass = #{param1}
	</select>
	
	<select id="countCarBrendListDao" resultType="int">
		select count(*)	from cartbl where cbrend = #{param1}
	</select>
	
	<select id="CarBrendListDao" resultType="com.jjcompany.rentcarProject.dto.CarListDto">
		select c.cindex, c.cbrend, c.cclass, c.cname, c.ccolor, c.coil, c.ctype, p.price
			from cartbl c inner join pricetbl p
				on c.pindex = p.pindex
					where c.cbrend = #{param1}
	</select>
	
</mapper>
